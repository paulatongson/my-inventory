@model ArtdemicProj.ViewModel.ItemView

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - ArtDemic Shop</title>
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/modernizr-2.8.3.js"></script>
    <script src="~/Scripts/jquery-1.8.0.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @Html.ActionLink("ArtDemic", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li>
                        @Html.ActionLink("Add Materials", "Index", "Item")
                    </li>
                    <li>
                        @Html.ActionLink("Add Artwork", "Index", "Artwork")
                    </li>
                    <li>
                        @Html.ActionLink("View Materials", "Index", "Item")
                    </li>
                    <li>
                        @Html.ActionLink("View Artworks", "Index", "Artwork")
                    </li>
                    <li>
                        @Html.ActionLink("Logout", "Index", "Home")
                    </li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
<h2>Add Item:</h2>

<script type="text/javascript">
    $(document).ready(function () {
        $("#btnsave").click(function () {
            SaveItem();
        });
    });

    function ResetItem() {
        $("#CategoryID").val("");
        $("#ItemCode").val("");
        $("#ItemName").val("");
        $("#Description").val("");
        $("#ItemPrice").val("");
        $("#ImagePath").val("");
    }
    function SaveItem() {
        var formData = new FormData();
        formData.append("CategoryID", $("#CategoryID").val());
        formData.append("ItemCode", $("#ItemCode").val());
        formData.append("ItemName", $("#ItemName").val());
        formData.append("Description", $("#Description").val());
        formData.append("ItemPrice", $("#ItemPrice").val());
        formData.append("ImagePath", $("#ImagePath").get(0).files[0]);

        $.ajax({
            async: true,
            dataType: 'JSON',
            type: 'POST',
            contentType: false,
            processData: false,
            url: '/Item/Index',
            data: formData,
            success: function (data) {
                if (data.Success) {
                    alert(data.Message);
                    ResetItem();
                }
            },
            error: function () {
                alert("Error in adding product.");
            }
        });

    }
</script>
<div class="container">
    <div class="col-md-4">
        <div class="form-group">
            Category(Required):
            @Html.DropDownListFor(model => model.CategoryID, new SelectList(Model.CategorySelectListItem, "Value", "Text"),
                         new { @class = "form-control" })
        </div>
    </div>
    <div class="col-md-4">
        <div class="form-group">
            Description:
            @Html.TextBoxFor(model => model.Description, new { @class = "form-control" })
        </div>
    </div>

    <div class="col-md-4">
        <div class="form-group">
            Item Price(Required):
            @Html.TextBoxFor(model => model.ItemPrice, new { @class = "form-control", autocomplete = "Off" })
        </div>
    </div>

    <div class="col-md-4">
        <div class="form-group">
            Item Name(Required):
            @Html.TextBoxFor(model => model.ItemName, new { @class = "form-control", autocomplete = "Off" })
        </div>
    </div>

    <div class="col-md-4">
        <div class="form-group">
            Item Code(Required):
            @Html.TextBoxFor(model => model.ItemCode, new { @class = "form-control", autocomplete = "Off" })
        </div>
    </div>
    <div class="col-md-4">
        <div class="form-group">
            Image (Required):
            @Html.TextBoxFor(model => model.ImagePath, new { type = "FIle", @class = "form-control" })
        </div>
    </div>


    <div>
        <input type="button" value="Save" name="save" class="btn btn-primary" id="btnsave" />
        &nbsp;
        <input type="button" value="Reset" name="reset" class="btn btn-danger" />
    </div>
</div>

